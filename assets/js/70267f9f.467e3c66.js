"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[584],{305:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>t,contentTitle:()=>c,default:()=>o,frontMatter:()=>d,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"admin/intro","title":"\u4e00\u4f53\u673a\u7b80\u4ecb","description":"\u4e00\u4f53\u673a\u7cfb\u7edf\u6982\u8ff0","source":"@site/docs/admin/intro.md","sourceDirName":"admin","slug":"/admin/intro","permalink":"/pghpcdoc/docs/admin/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/admin/intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u7ba1\u7406\u5458\u624b\u518c","permalink":"/pghpcdoc/docs/category/\u7ba1\u7406\u5458\u624b\u518c"},"next":{"title":"\u7528\u6237\u7ba1\u7406","permalink":"/pghpcdoc/docs/admin/user"}}');var i=s(4848),r=s(8453);const d={sidebar_position:1},c="\u4e00\u4f53\u673a\u7b80\u4ecb",t={},h=[{value:"\u4e00\u4f53\u673a\u7cfb\u7edf\u6982\u8ff0",id:"\u4e00\u4f53\u673a\u7cfb\u7edf\u6982\u8ff0",level:3},{value:"\u4e00\u4f53\u673a\u8be6\u7ec6\u89c4\u5212",id:"\u4e00\u4f53\u673a\u8be6\u7ec6\u89c4\u5212",level:3},{value:"\u7ba1\u7406\u5458\u5e38\u7528\u6279\u547d\u4ee4",id:"\u7ba1\u7406\u5458\u5e38\u7528\u6279\u547d\u4ee4",level:3},{value:"\u6279\u547d\u4ee4, \u4ece\u7ba1\u7406\u8282\u70b9\u5f80\u8ba1\u7b97\u8282\u70b9\u53d1\u547d\u4ee4",id:"\u6279\u547d\u4ee4-\u4ece\u7ba1\u7406\u8282\u70b9\u5f80\u8ba1\u7b97\u8282\u70b9\u53d1\u547d\u4ee4",level:3},{value:"\u68c0\u67e5\u5171\u4eab\u76ee\u5f55\u6302\u8f7d\u60c5\u51b5",id:"\u68c0\u67e5\u5171\u4eab\u76ee\u5f55\u6302\u8f7d\u60c5\u51b5",level:3},{value:"\u670d\u52a1\u5668 ipmi \u7ba1\u7406",id:"\u670d\u52a1\u5668-ipmi-\u7ba1\u7406",level:3},{value:"\u8c03\u5ea6\u7cfb\u7edf slurm \u7ba1\u7406",id:"\u8c03\u5ea6\u7cfb\u7edf-slurm-\u7ba1\u7406",level:3}];function a(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\u4e00\u4f53\u673a\u7b80\u4ecb",children:"\u4e00\u4f53\u673a\u7b80\u4ecb"})}),"\n",(0,i.jsx)(e.h3,{id:"\u4e00\u4f53\u673a\u7cfb\u7edf\u6982\u8ff0",children:"\u4e00\u4f53\u673a\u7cfb\u7edf\u6982\u8ff0"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u96c6\u7fa4\u7ba1\u7406\u5e73\u53f0: xcat"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u96c6\u7fa4\u8c03\u5ea6\u7cfb\u7edf: slurm"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u96c6\u7fa4\u5e10\u53f7\u7ba1\u7406: nis"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u96c6\u7fa4\u76d1\u63a7\u7cfb\u7edf: ganglia"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u4e00\u4f53\u673a\u8be6\u7ec6\u89c4\u5212",children:"\u4e00\u4f53\u673a\u8be6\u7ec6\u89c4\u5212"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u4e3b\u673a\u540d"}),(0,i.jsx)(e.th,{children:"ipmi ip"}),(0,i.jsx)(e.th,{children:"1\u53e3\u7cfb\u7edf\u7f51IP"}),(0,i.jsx)(e.th,{children:"\u9ad8\u901f\u7f51 IB IP"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"mgt"}),(0,i.jsx)(e.td,{children:"172.16.9.200/23"}),(0,i.jsx)(e.td,{children:"172.16.8.200/23"}),(0,i.jsx)(e.td,{children:"172.16.7.200/24"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"n01"}),(0,i.jsx)(e.td,{children:"172.16.9.1/23"}),(0,i.jsx)(e.td,{children:"172.16.8.1/23"}),(0,i.jsx)(e.td,{children:"172.16.7.1/24"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"n02"}),(0,i.jsx)(e.td,{children:"172.16.9.2/23"}),(0,i.jsx)(e.td,{children:"172.16.8.2/23"}),(0,i.jsx)(e.td,{children:"172.16.7.2/24"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"..."}),(0,i.jsx)(e.td,{children:"..."}),(0,i.jsx)(e.td,{children:"..."}),(0,i.jsx)(e.td,{children:"..."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"n11"}),(0,i.jsx)(e.td,{children:"172.16.9.11/23"}),(0,i.jsx)(e.td,{children:"172.16.8.11/23"}),(0,i.jsx)(e.td,{children:"172.16.7.11/24"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"..."}),(0,i.jsx)(e.td,{children:"..."}),(0,i.jsx)(e.td,{children:"..."}),(0,i.jsx)(e.td,{children:"..."})]})]})]}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4ee5\u8be6\u7ec6\u89c4\u5212\u8868\u4e3a\u51c6"}),"\n",(0,i.jsxs)(e.li,{children:["\u89c1\u7cfb\u7edf ",(0,i.jsx)(e.code,{children:"/etc/hosts"})," \u6587\u4ef6"]}),"\n"]})}),"\n",(0,i.jsx)(e.h3,{id:"\u7ba1\u7406\u5458\u5e38\u7528\u6279\u547d\u4ee4",children:"\u7ba1\u7406\u5458\u5e38\u7528\u6279\u547d\u4ee4"}),"\n",(0,i.jsx)(e.h3,{id:"\u6279\u547d\u4ee4-\u4ece\u7ba1\u7406\u8282\u70b9\u5f80\u8ba1\u7b97\u8282\u70b9\u53d1\u547d\u4ee4",children:"\u6279\u547d\u4ee4, \u4ece\u7ba1\u7406\u8282\u70b9\u5f80\u8ba1\u7b97\u8282\u70b9\u53d1\u547d\u4ee4"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u67e5\u770b\u7cfb\u7edf\u7248\u672c"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell:no-line-numbers",children:'cat /etc/redhat-release\n\npsh all "cat /etc/redhat-release"\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u67e5\u770b\u7f51\u7edc\u662f\u5426\u8fde\u901a"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash:no-line-numbers",children:"[root@mgt ~]# pping all\nn01: ping\nn02: ping\n...\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u67e5\u65f6\u95f4"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash:no-line-numbers",children:" [root@mgt ~]# psh all date\n n01: Sat Jun  6 22:41:28 CST 2020\n n02: Sat Jun  6 22:41:28 CST 2020\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u6279\u62f7\u8d1d, \u628a\u7ba1\u7406\u8282\u70b9\u7684 ",(0,i.jsx)(e.code,{children:"/etc/hosts"})," \u62f7\u8d1d\u5230\u8ba1\u7b97\u8282\u70b9\u7684 ",(0,i.jsx)(e.code,{children:"/etc"})]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash:no-line-numbers",children:"[root@mgt ~]# pscp /etc/hosts all:/etc\nn01: done\nn02: done\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6279\u5173\u673a, \u7ed9 n01, n02 \u8282\u70b9\u53d1\u5173\u673a\u547d\u4ee4"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash:no-line-numbers",children:'[root@mgt ~]# psh n[01-02] "shutdown -h now"\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8fdc\u7a0b\u5f00\u5173\u673a"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash:no-line-numbers",children:" rpower all stat       # \u67e5\u770b\u72b6\u6001\n rpower all on         # \u8fdc\u7a0b\u5f00\u673a\n rpower all off        # \u8fdc\u7a0b\u5173\u673a\n"})}),"\n",(0,i.jsx)(e.admonition,{type:"warning",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8fdc\u7a0b\u5173\u673a\u5c5e\u4e8e\u786c\u5173\u673a, \u53ea\u6709\u5728\u7cfb\u7edf\u65e0\u6cd5\u767b\u5f55\uff0c\u6b7b\u673a\u7b49\u60c5\u51b5\u624d\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u5173\u673a"}),"\n"]})}),"\n",(0,i.jsx)(e.h3,{id:"\u68c0\u67e5\u5171\u4eab\u76ee\u5f55\u6302\u8f7d\u60c5\u51b5",children:"\u68c0\u67e5\u5171\u4eab\u76ee\u5f55\u6302\u8f7d\u60c5\u51b5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash:no-line-numbers",children:'[root@mgt ~]# psh all "df -h | grep share"\nn01: mgt-ib:/share                29G  9.7G   20G  34% /share\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u5982\u679c\u6ca1\u6709\u6302\u8f7d,\u53ea\u9700\u8981\u5728\u8282\u70b9\u4e0a\u8fd0\u884c:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-:no-line-numbers",children:" mount /share\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u670d\u52a1\u5668-ipmi-\u7ba1\u7406",children:"\u670d\u52a1\u5668 ipmi \u7ba1\u7406"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u4e0b\u8f7d\u5b89\u88c5 ",(0,i.jsx)(e.code,{children:"MobaXterm"})," \u8f6f\u4ef6, \u767b\u5f55 mgt \u8282\u70b9, \u76f4\u63a5\u8fd0\u884c firefox \u542f\u52a8\u6d4f\u89c8\u5668"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u8f93\u5165\u8282\u70b9\u7684 ipmi \u7684 ip \u5730\u5740, \u7528\u6237\u540d, \u5bc6\u7801, \u5373\u53ef\u8bbf\u95ee\u8282\u70b9\u7684 ipmi"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://ipmi-ip",children:"https://ipmi-ip"})}),"\n",(0,i.jsx)(e.li,{children:"\u5e10\u53f7: ......"}),"\n",(0,i.jsx)(e.li,{children:"\u5bc6\u7801: ......"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5e38\u7528\u4e8e\u8282\u70b9\u6545\u969c, \u767b\u5f55 ipmi \u7ba1\u7406\u754c\u9762\u67e5\u770b\u786c\u4ef6\u65e5\u5fd7"}),"\n",(0,i.jsx)(e.li,{children:"\u5e38\u7528\u4e8e\u8282\u70b9\u65e0\u6cd5\u767b\u5f55, \u7f51\u7edc\u4e0d\u901a, \u767b\u5f55 ipmi \u7ba1\u7406\u754c\u9762, \u542f\u52a8 ikvm \u8fdb\u884c\u64cd\u4f5c"}),"\n"]})}),"\n",(0,i.jsx)(e.h3,{id:"\u8c03\u5ea6\u7cfb\u7edf-slurm-\u7ba1\u7406",children:"\u8c03\u5ea6\u7cfb\u7edf slurm \u7ba1\u7406"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u91cd\u542f\u67d0\u4e2a\u8282\u70b9\u670d\u52a1"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-:no-line-numbers",children:"systemctl restart slurmd\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u91cd\u542f\u6574\u4e2a slurm \u8c03\u5ea6\u7cfb\u7edf"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7ba1\u7406\u8282\u70b9:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-:no-line-numbers",children:"systemctl restart slurmctld.service\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8ba1\u7b97\u8282\u70b9:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-:no-line-numbers",children:'psh all "systemctl restart slurmd"\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539\u914d\u7f6e\u961f\u5217"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-:no-line-numbers",children:"[root@mgt ~]# vim /etc/slurm/slurm.conf\n\nNodeName=n[01-15] CPUs=52 State=UNKNOWN\nPartitionName=compute Nodes=n[01-15] Default=YES  MaxTime=INFINITE State=UP\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539\u5b8c\u540e, \u540c\u6b65 slurm \u914d\u7f6e:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-:no-line-numbers",children:"pscp /etc/slurm/slurm.conf all:/etc/slurm/\n"})}),"\n"]}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>c});var l=s(6540);const i={},r=l.createContext(i);function d(n){const e=l.useContext(r);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:d(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);